{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-pagination\";\nimport * as i4 from \"@angular/common\";\nfunction ProductComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductComponent_tr_34_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateProduct(product_r1.idProduct));\n    });\n    i0.ɵɵtext(13, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ProductComponent_tr_34_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteProduit(product_r1.idProduct));\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.idProduct);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.stock);\n  }\n}\nconst _c0 = function (a1) {\n  return {\n    itemsPerPage: 4,\n    currentPage: a1\n  };\n};\nexport class ProductComponent {\n  constructor(produitService, router) {\n    this.produitService = produitService;\n    this.router = router;\n    this.produits = [];\n    this.p = 1;\n    this.itemsPerPage = 8;\n  }\n  ngOnInit() {\n    this.loadProduits();\n  }\n  loadProduits() {\n    this.produitService.getProducts().subscribe(data => {\n      this.produits = data;\n      this.totalProducts = data.length;\n    });\n  }\n  changeCurrency() {\n    this.produitService.getProducts(\"TND\").subscribe(response => {\n      this.produits = response;\n      this.totalProducts = response.length;\n    }, error => console.log(error));\n  }\n  changeCurrencyToEuro() {\n    this.produitService.getProducts(\"EUR\").subscribe(response => {\n      this.produits = response;\n      this.totalProducts = response.length;\n    }, error => console.log(error));\n  }\n  deleteProduit(id) {\n    if (confirm(\"Are you sure you want to delete this Product?\")) {\n      console.log(id);\n      this.produitService.removeProduct(id).subscribe(response => {\n        console.log(\"Product deleted successfully.\");\n        this.loadProduits();\n        window.location.reload();\n      }, error => console.log(error));\n    }\n  }\n  updateProduct(id) {\n    console.log(id);\n    this.router.navigate(['/edit-product', id]);\n  }\n  deleteProduct(idProduct) {}\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.ProduitService), i0.ɵɵdirectiveInject(i2.Router));\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  decls: 37,\n  vars: 6,\n  consts: [[1, \"content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\"], [\"routerLink\", \"/add-product\", 1, \"btn\", \"btn-primary\", \"float-right\"], [1, \"btn\", \"btn-primary\", \"float-right\", 3, \"click\"], [1, \"card-body\"], [1, \"table\", \"table-bordered\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [3, \"pageChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h1\", 6);\n      i0.ɵɵtext(7, \"Product List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵtext(10, \"Add Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_11_listener() {\n        return ctx.changeCurrency();\n      });\n      i0.ɵɵtext(12, \"TND\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_13_listener() {\n        return ctx.changeCurrencyToEuro();\n      });\n      i0.ɵɵtext(14, \"EUR\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 9)(16, \"table\", 10)(17, \"thead\")(18, \"tr\")(19, \"th\");\n      i0.ɵɵtext(20, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"Stock\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\");\n      i0.ɵɵtext(30, \"Actions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\");\n      i0.ɵɵtext(32, \"photo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"tbody\");\n      i0.ɵɵtemplate(34, ProductComponent_tr_34_Template, 16, 5, \"tr\", 11);\n      i0.ɵɵpipe(35, \"paginate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"pagination-controls\", 12);\n      i0.ɵɵlistener(\"pageChange\", function ProductComponent_Template_pagination_controls_pageChange_36_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(35, 1, ctx.produits, i0.ɵɵpureFunction1(4, _c0, ctx.p)));\n    }\n  },\n  dependencies: [i3.PaginationControlsComponent, i4.NgForOf, i2.RouterLink, i3.PaginatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductComponent","constructor","produitService","router","ngOnInit","loadProduits","getProducts","subscribe","data","produits","totalProducts","length","changeCurrency","response","error","console","log","changeCurrencyToEuro","deleteProduit","id","confirm","removeProduct","window","location","reload","updateProduct","navigate","deleteProduct","idProduct","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\hadir\\Downloads\\By-sellBack-backoffice1 (1)\\By-sellBack-backoffice1\\src\\app\\component\\product\\product-list\\productList.component.html","C:\\Users\\hadir\\Downloads\\By-sellBack-backoffice1 (1)\\By-sellBack-backoffice1\\src\\app\\component\\product\\product-list\\productList.component.ts"],"sourcesContent":["<section class=\"content\">\n  \n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h1 class=\"card-title\">Product List</h1><br>\n              <button class=\"btn btn-primary float-right\" routerLink=\"/add-product\">Add Product</button>\n              <button class=\"btn btn-primary float-right\" (click)=\"changeCurrency()\">TND</button>\n              <button class=\"btn btn-primary float-right\" (click)=\"changeCurrencyToEuro()\">EUR</button>\n\n            </div>\n            <div class=\"card-body\">\n              <table class=\"table table-bordered table-striped\">\n                <thead>\n                  <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Description</th>\n                    <th>Price</th>\n                    <th>Stock</th>\n                    <th>Actions</th>\n                    <th>photo</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let product of produits | paginate: { itemsPerPage: 4, currentPage: p }\">\n                    <td>{{ product.idProduct }}</td>\n                    <td>{{ product.name }}</td>\n                    <td>{{ product.description }}</td>\n                    <td>{{ product.price }}</td>\n                    <td>{{ product.stock }}</td>\n                    <td>\n                      <button class=\"btn btn-primary\" (click)=\"updateProduct(product.idProduct)\">Edit</button>\n                      <button class=\"btn btn-danger\" (click)=\"deleteProduit(product.idProduct)\">Delete</button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <pagination-controls (pageChange)=\"p = $event\"></pagination-controls>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  ","import { Component, OnInit } from '@angular/core';\nimport { Produit } from 'src/app/models/produit';\nimport { ProduitService } from 'src/app/services/product.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './productList.component.html',\n  styleUrls: ['./productList.component.scss']\n})\nexport class ProductComponent implements OnInit {\n\n  produits: Produit[] = [];\n  p: number = 1;\n  itemsPerPage:number = 8;\n  totalProducts: any;\n\n  constructor(private produitService: ProduitService, private router : Router) { }\n\n  ngOnInit(): void {\n    this.loadProduits();\n  }\n  loadProduits(): void {\n    this.produitService.getProducts().subscribe(data => {\n      this.produits = data;\n      this.totalProducts = data.length;\n    });\n  }\n  changeCurrency(): void {\n\nthis.produitService.getProducts(\"TND\").subscribe(\n      response => {this.produits = response;\n        this.totalProducts = response.length;\n      },\n      error => console.log(error)\n    );}\n    changeCurrencyToEuro(): void {\n    \n      this.produitService.getProducts(\"EUR\").subscribe(\n            response => {this.produits = response;\n              this.totalProducts = response.length;\n            },\n            error => console.log(error)\n          );}\n  deleteProduit(id: number): void {\n    if (confirm(\"Are you sure you want to delete this Product?\")) {\n      console.log(id)\n      this.produitService.removeProduct(id).subscribe(\n        response => {\n          console.log(\"Product deleted successfully.\");\n          this.loadProduits();\n          window.location.reload();\n        },\n        error => console.log(error)\n      );\n    }\n  }\n  updateProduct(id: number) {\n    console.log(id)\n    this.router.navigate(['/edit-product',id]);\n  }\n  \n  deleteProduct( idProduct : number ) \n  {\n    \n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}