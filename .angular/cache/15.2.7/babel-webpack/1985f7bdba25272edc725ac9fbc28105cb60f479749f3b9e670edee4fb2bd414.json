{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/shop.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ListShopComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ListShopComponent_tr_17_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const shop_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.UpdateShop(shop_r1.idShop));\n    });\n    i0.ɵɵtext(7, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ListShopComponent_tr_17_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const shop_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteShop(shop_r1.idShop));\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const shop_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(shop_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(shop_r1.address);\n  }\n}\nexport class ListShopComponent {\n  constructor(shopService, router) {\n    this.shopService = shopService;\n    this.router = router;\n    this.shops = [];\n  }\n  ngOnInit() {\n    this.getShops();\n  }\n  getShops() {\n    this.shopService.getShopsList().subscribe(response => {\n      this.shops = response;\n    }, error => {\n      console.log(error);\n    });\n  }\n  deleteShop(id) {\n    if (confirm(\"Are you sure you want to delete this category?\")) {\n      this.shopService.deleteShop(id).subscribe(() => {\n        this.shops = this.shops.filter(shop => shop.idShop !== id);\n      });\n    }\n  }\n  UpdateShop(id) {\n    this.router.navigate(['/edit-shops', id]);\n  }\n}\nListShopComponent.ɵfac = function ListShopComponent_Factory(t) {\n  return new (t || ListShopComponent)(i0.ɵɵdirectiveInject(i1.ShopService), i0.ɵɵdirectiveInject(i2.Router));\n};\nListShopComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListShopComponent,\n  selectors: [[\"app-shop\"]],\n  decls: 18,\n  vars: 1,\n  consts: [[1, \"container\"], [\"routerLink\", \"/add-shops\", 1, \"btn\", \"btn-success\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ListShopComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"List of Shops\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 1);\n      i0.ɵɵtext(4, \"Add Shop\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"table\", 2)(6, \"thead\")(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Photo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"tbody\");\n      i0.ɵɵtemplate(17, ListShopComponent_tr_17_Template, 10, 2, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.shops);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAaMA,0BAA+B;IACzBA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAC8BA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;IAC/EA,iCAAiE;IAAlCA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAJ9EA,eAAe;IAAfA,kCAAe;IACfA,eAAkB;IAAlBA,qCAAkB;;;ACL9B,OAAM,MAAOC,iBAAiB;EAI5BC,YAAoBC,WAAwB,EAAUC,MAAe;IAAjD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAF5D,UAAK,GAAW,EAAE;EAEuD;EAEzEC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EAEjB;EAEAA,QAAQ;IACN,IAAI,CAACH,WAAW,CAACI,YAAY,EAAE,CAACC,SAAS,CACtCC,QAAgB,IAAI;MACnB,IAAI,CAACC,KAAK,GAAGD,QAAQ;IACvB,CAAC,EACAE,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EACAG,UAAU,CAACC,EAAU;IACnB,IAAIC,OAAO,CAAC,gDAAgD,CAAC,EAAE;MAC/D,IAAI,CAACb,WAAW,CAACW,UAAU,CAACC,EAAE,CAAC,CAACP,SAAS,CAAC,MAAK;QAC7C,IAAI,CAACE,KAAK,GAAG,IAAI,CAACA,KAAK,CAACO,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,KAAKJ,EAAE,CAAC;MAC5D,CAAC,CAAC;;EACH;EACDK,UAAU,CAACL,EAAU;IACnB,IAAI,CAACX,MAAM,CAACiB,QAAQ,CAAC,CAAC,aAAa,EAACN,EAAE,CAAC,CAAC;EAC1C;;AA7BWd,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV9B1B,8BAAuB;MACjBA,6BAAa;MAAAA,iBAAK;MACtBA,4BAAmD;MAAAA,wBAAQ;MAAAA,iBAAI;MAC/DA,gCAAoC;MAG1BA,oBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAGnBA,8BAAO;MACLA,mEAOK;MACPA,iBAAQ;;;MAReA,gBAAQ;MAARA,mCAAQ","names":["i0","ListShopComponent","constructor","shopService","router","ngOnInit","getShops","getShopsList","subscribe","response","shops","error","console","log","deleteShop","id","confirm","filter","shop","idShop","UpdateShop","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\ibtih\\Downloads\\By-sellBack-backoffice1\\By-sellBack-backoffice1\\src\\app\\component\\shop\\list-shop\\list-shop.component.html","C:\\Users\\ibtih\\Downloads\\By-sellBack-backoffice1\\By-sellBack-backoffice1\\src\\app\\component\\shop\\list-shop\\list-shop.component.ts"],"sourcesContent":["<div class=\"container\">\n  <h2>List of Shops</h2>\n  <a routerLink=\"/add-shops\" class=\"btn btn-success\">Add Shop</a>\n  <table class=\"table table-bordered\">\n    <thead>\n      <tr>\n        <th>Name</th>\n        <th>Address</th>\n        <th>Photo</th>\n        <th>Action</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let shop of shops\">\n        <td>{{ shop.name }}</td>\n        <td>{{ shop.address }}</td>\n        <td>\n          <button class=\"btn btn-primary\" (click)=\"UpdateShop(shop.idShop)\">Edit</button>\n          <button class=\"btn btn-danger\" (click)=\"deleteShop(shop.idShop)\">Delete</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Shop } from 'src/app/models/shop';\nimport { ShopService } from 'src/app/services/shop.service';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './list-shop.component.html',\n  styleUrls: ['./list-shop.component.scss']\n})\nexport class ListShopComponent implements OnInit {\n\n  shops: Shop[] = [];\n\n  constructor(private shopService: ShopService, private router : Router) { }\n\n  ngOnInit(): void {\n    this.getShops();\n \n  }\n\n  getShops() {\n    this.shopService.getShopsList().subscribe(\n      (response: Shop[]) => {\n        this.shops = response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n  deleteShop(id: number): void {\n    if (confirm(\"Are you sure you want to delete this category?\")) {\n    this.shopService.deleteShop(id).subscribe(() => {\n      this.shops = this.shops.filter(shop => shop.idShop !== id);\n    });\n  }}\n  UpdateShop(id: number) {\n    this.router.navigate(['/edit-shops',id]);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}