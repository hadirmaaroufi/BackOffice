{"ast":null,"code":"import { Cart } from 'src/app/models/cart';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"src/app/services/cart.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nexport class AddCartsComponent {\n  constructor(produitService, cartService, router) {\n    this.produitService = produitService;\n    this.cartService = cartService;\n    this.router = router;\n    this.produitList = [];\n    this.cart = new Cart();\n  }\n  ngOnInit() {\n    this.produitService.getProducts().subscribe(data => {\n      this.produitList = data;\n    }, error => console.log(error));\n  }\n  addCart() {\n    this.cartService.saveCart(this.cart).subscribe(data => {\n      console.log(data);\n      this.router.navigate(['/list-carts']);\n    }, error => console.log(error));\n  }\n  assignCommandLineToCart(idCommandLine, idCart) {\n    this.cartService.assignCommandeLineToCart(idCommandLine, idCart).subscribe(() => {\n      console.log('Command line assigned to cart successfully');\n    }, error => {\n      console.error('Error assigning command line to cart: ', error);\n    });\n  }\n}\nAddCartsComponent.ɵfac = function AddCartsComponent_Factory(t) {\n  return new (t || AddCartsComponent)(i0.ɵɵdirectiveInject(i1.ProduitService), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.Router));\n};\nAddCartsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddCartsComponent,\n  selectors: [[\"app-add-carts\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"card\"], [1, \"card-header\"], [1, \"text-center\"], [1, \"card-body\"], [1, \"form-group\"], [\"for\", \"totalCart\"], [\"type\", \"number\", \"id\", \"totalCart\", \"name\", \"totalCart\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"name\", \"quantity\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"list-group\"]],\n  template: function AddCartsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n      i0.ɵɵtext(4, \"Add Cart\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\")(7, \"div\", 5)(8, \"label\", 6);\n      i0.ɵɵtext(9, \"Total Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCartsComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.cart.totalCart = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCartsComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.quantity = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function AddCartsComponent_Template_button_click_15_listener() {\n        return ctx.addCart();\n      });\n      i0.ɵɵtext(16, \"Add Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"hr\")(18, \"ul\", 11);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.cart.totalCart);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.quantity);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,IAAI,QAAQ,qBAAqB;;;;;;AAU1C,OAAM,MAAOC,iBAAiB;EAO5BC,YACUC,cAA8B,EAC9BC,WAAwB,EACxBC,MAAc;IAFd,mBAAc,GAAdF,cAAc;IACd,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IARhB,gBAAW,GAAc,EAAE;IAC3B,SAAI,GAAS,IAAIL,IAAI,EAAE;EAQnB;EAEJM,QAAQ;IACN,IAAI,CAACH,cAAc,CAACI,WAAW,EAAE,CAACC,SAAS,CACzCC,IAAI,IAAG;MACL,IAAI,CAACC,WAAW,GAAGD,IAAI;IACzB,CAAC,EACDE,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC5B;EACH;EAEAG,OAAO;IACL,IAAI,CAACV,WAAW,CAACW,QAAQ,CAAC,IAAI,CAACC,IAAI,CAAC,CAACR,SAAS,CAC5CC,IAAI,IAAG;MACLG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;MACjB,IAAI,CAACJ,MAAM,CAACY,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC,EACDN,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC5B;EACH;EAEAO,uBAAuB,CAACC,aAAqB,EAAEC,MAAc;IAC3D,IAAI,CAAChB,WAAW,CAACiB,wBAAwB,CAACF,aAAa,EAAEC,MAAM,CAAC,CAC7DZ,SAAS,CAAC,MAAK;MACdI,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;IAC3D,CAAC,EAAGF,KAAK,IAAI;MACXC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAChE,CAAC,CAAC;EACN;;AAvCWV,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ9BC,8BAAuB;MAGOA,wBAAQ;MAAAA,iBAAK;MAEvCA,8BAAuB;MAGMA,0BAAU;MAAAA,iBAAQ;MACzCA,iCAAgH;MAAtCA;QAAA;MAAA,EAA4B;MAAtGA,iBAAgH;MAGlHA,+BAAwB;MACAA,yBAAQ;MAAAA,iBAAQ;MACtCA,iCAAwG;MAAhCA;QAAA;MAAA,EAAsB;MAA9FA,iBAAwG;MAGxGA,mCAAkE;MAApBA;QAAA,OAASC,aAAS;MAAA,EAAC;MAACD,yBAAS;MAAAA,iBAAS;MAEtFA,sBAAI;MAbNA,iBAAM;;;MAGwEA,gBAA4B;MAA5BA,4CAA4B;MAK9BA,eAAsB;MAAtBA,sCAAsB","names":["Cart","AddCartsComponent","constructor","produitService","cartService","router","ngOnInit","getProducts","subscribe","data","produitList","error","console","log","addCart","saveCart","cart","navigate","assignCommandLineToCart","idCommandLine","idCart","assignCommandeLineToCart","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\ibtih\\Downloads\\By-sellBack-backoffice1\\By-sellBack-backoffice1\\src\\app\\component\\carts\\add-carts\\add-carts.component.ts","C:\\Users\\ibtih\\Downloads\\By-sellBack-backoffice1\\By-sellBack-backoffice1\\src\\app\\component\\carts\\add-carts\\add-carts.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Cart } from 'src/app/models/cart';\nimport { Produit } from 'src/app/models/produit';\nimport { CartService } from 'src/app/services/cart.service';\nimport { ProduitService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-add-carts',\n  templateUrl: './add-carts.component.html',\n  styleUrls: ['./add-carts.component.scss']\n})\nexport class AddCartsComponent implements OnInit {\n\n  produitList: Produit[] = [];\n  cart: Cart = new Cart();\n  produitId: number;\n  quantity: number;\n  idCommandeLine:number ; \n  constructor(\n    private produitService: ProduitService,\n    private cartService: CartService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.produitService.getProducts().subscribe(\n      data => {\n        this.produitList = data;\n      },\n      error => console.log(error)\n    );\n  }\n\n  addCart(): void {\n    this.cartService.saveCart(this.cart).subscribe(\n      data => {\n        console.log(data);\n        this.router.navigate(['/list-carts']);\n      },\n      error => console.log(error)\n    );\n  }\n\n  assignCommandLineToCart(idCommandLine: number, idCart: number) {\n    this.cartService.assignCommandeLineToCart(idCommandLine, idCart)\n      .subscribe(() => {\n        console.log('Command line assigned to cart successfully');\n      }, (error) => {\n        console.error('Error assigning command line to cart: ', error);\n      });\n  }\n}","<div class=\"container\">\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h3 class=\"text-center\">Add Cart</h3>\n    </div>\n    <div class=\"card-body\">\n      <form>\n        <div class=\"form-group\">\n          <label for=\"totalCart\">Total Cart</label>\n          <input type=\"number\" class=\"form-control\" id=\"totalCart\" name=\"totalCart\" [(ngModel)]=\"cart.totalCart\" required>\n        </div>\n     \n        <div class=\"form-group\">\n          <label for=\"quantity\">Quantity</label>\n          <input type=\"number\" class=\"form-control\" id=\"quantity\" name=\"quantity\" [(ngModel)]=\"quantity\" required>\n        </div>\n        <!-- <button type=\"button\" class=\"btn btn-success\" (click)=\"assignCommandLineToCart(cart.commandLines , cart.idCart)\">Add to Cart</button> -->\n          <button type=\"button\" class=\"btn btn-success\" (click)=\"addCart()\">Add  Cart</button> \n       \n        <hr>\n        <ul class=\"list-group\">\n           \n         \n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}